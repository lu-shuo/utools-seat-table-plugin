# å­¦ç”Ÿæ’åº§åŠ©æ‰‹ - uTools æ’ä»¶

ä¸€ä¸ªåŸºäº Vue 3 + Vite + Tailwind CSS çš„ uTools æ’ä»¶ï¼Œç”¨äºå¿«é€Ÿç”Ÿæˆå’Œç®¡ç†ç­çº§åº§ä½è¡¨ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š å¯è§†åŒ–åº§ä½è¡¨ç®¡ç†
- ğŸ¯ æ‹–æ‹½å¼åº§ä½è°ƒæ•´
- ğŸ‘¥ å­¦ç”Ÿä¿¡æ¯ç®¡ç†
- ğŸ”„ åº§ä½éšæœºåˆ†é…
- ğŸ’¾ æœ¬åœ°æ•°æ®æŒä¹…åŒ–
- ğŸ–¥ï¸ å…¨å±æ’ä½æ¨¡å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å¼€å‘æœåŠ¡å™¨ä¼šåœ¨ http://localhost:5173 å¯åŠ¨

### 3. åœ¨ uTools ä¸­æµ‹è¯•

1. æ‰“å¼€ uToolsï¼ˆé»˜è®¤å¿«æ·é”®ï¼š`Alt + Space`ï¼‰
2. è¿›å…¥è®¾ç½® â†’ æ’ä»¶åº”ç”¨ â†’ å¼€å‘è€…å·¥å…·
3. ç‚¹å‡»ã€Œæ·»åŠ ã€ï¼Œé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•
4. åœ¨ uTools ä¸­è¾“å…¥è§¦å‘è¯ï¼š`æ’åº§ä½`ã€`å­¦ç”Ÿæ’åº§`ã€`åº§ä½è¡¨` æˆ– `ç­çº§åº§ä½`

## ğŸ“¦ æ„å»ºå’Œæ‰“åŒ…

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### æ„å»ºæ’ä»¶åŒ…

```bash
npm run build:plugin
```

è¿™ä¼šåœ¨ `plugin/` ç›®å½•ç”Ÿæˆå¯ç›´æ¥å®‰è£…åˆ° uTools çš„æ’ä»¶æ–‡ä»¶ã€‚

### æ‰“åŒ…ä¸º .upx æ–‡ä»¶

1. å°† `plugin/` ç›®å½•å‹ç¼©ä¸º zip æ–‡ä»¶
2. å°†æ–‡ä»¶æ‰©å±•åæ”¹ä¸º `.upx`
3. åœ¨ uTools å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite 6
- **æ ·å¼**: Tailwind CSS v4
- **UI ç»„ä»¶**: Element Plus
- **ç±»å‹æ”¯æŒ**: TypeScript (JSDoc)
- **å¹³å°**: uTools

## ğŸ“ é¡¹ç›®ç»“æ„

```
utools-seat-table-plugin/
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â”‚   â”œâ”€â”€ logo.png              # æ’ä»¶å›¾æ ‡
â”‚   â”œâ”€â”€ plugin.json           # æ’ä»¶é…ç½®
â”‚   â””â”€â”€ preload/              # Preload è„šæœ¬
â”‚       â”œâ”€â”€ package.json      # CommonJS æ ‡è®°
â”‚       â””â”€â”€ services.js       # Node.js èƒ½åŠ›æ³¨å…¥
â”œâ”€â”€ src/                      # æºä»£ç 
â”‚   â”œâ”€â”€ assets/               # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ components/           # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SeatTable.vue    # åº§ä½è¡¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ origin.vue       # åŸå§‹ SCSS ç‰ˆæœ¬ï¼ˆå‚è€ƒï¼‰
â”‚   â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ styles/               # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ tailwind.css     # Tailwind å…¥å£
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.vue               # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js               # å…¥å£æ–‡ä»¶
â”œâ”€â”€ build-plugin.js           # æ’ä»¶æ„å»ºè„šæœ¬
â”œâ”€â”€ vite.config.js            # Vite é…ç½®
â”œâ”€â”€ postcss.config.js         # PostCSS é…ç½®
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â”œâ”€â”€ CLAUDE.md                 # é¡¹ç›®æ¶æ„æ–‡æ¡£
â””â”€â”€ DEVELOPMENT.md            # å¼€å‘æŒ‡å—

æ„å»ºè¾“å‡ºï¼š
â”œâ”€â”€ dist/                     # Vite æ„å»ºè¾“å‡º
â””â”€â”€ plugin/                   # uTools æ’ä»¶åŒ…
```

## ğŸ”§ å¼€å‘æŒ‡å—

è¯¦ç»†çš„å¼€å‘æŒ‡å—è¯·æŸ¥çœ‹ [DEVELOPMENT.md](./DEVELOPMENT.md)

### å…³é”®æ¦‚å¿µ

#### åŒç¯å¢ƒæ¶æ„

uTools æ’ä»¶è¿è¡Œåœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ JavaScript ç¯å¢ƒä¸­ï¼š

1. **Preload Script** (`public/preload/services.js`)
   - è¿è¡Œåœ¨ Node.js ç¯å¢ƒ
   - æ‹¥æœ‰å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™
   - é€šè¿‡ `window.services` å‘æ¸²æŸ“è¿›ç¨‹æ³¨å…¥èƒ½åŠ›

2. **Renderer Process** (`src/`)
   - è¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒ
   - æ— ç›´æ¥ Node.js è®¿é—®
   - é€šè¿‡ `window.services` å’Œ `window.utools` è°ƒç”¨èƒ½åŠ›

#### æ’ä»¶ç”Ÿå‘½å‘¨æœŸ

```javascript
// æ’ä»¶è¢«æ¿€æ´»
window.utools.onPluginEnter((action) => {
  console.log('æ’ä»¶æ¿€æ´»', action.code)
})

// æ’ä»¶è¢«éšè—
window.utools.onPluginOut((isKill) => {
  console.log('æ’ä»¶éšè—', isKill)
})
```

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

é¡¹ç›®ä½¿ç”¨ **Tailwind CSS v4**ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰ï¼Œé…ç½®æ–¹å¼ä¸ v3 ä¸åŒï¼š

- âœ… ä½¿ç”¨ `@import "tailwindcss"` æ›¿ä»£ `@tailwind` æŒ‡ä»¤
- âœ… ä½¿ç”¨ `@tailwindcss/postcss` æ’ä»¶
- âŒ ä¸éœ€è¦ `tailwind.config.js` é…ç½®æ–‡ä»¶

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

### plugin.json

```json
{
  "logo": "logo.png",           // æ’ä»¶å›¾æ ‡
  "main": "index.html",         // ç”Ÿäº§ç¯å¢ƒå…¥å£
  "features": [                 // åŠŸèƒ½åˆ—è¡¨
    {
      "code": "seatTable",      // åŠŸèƒ½æ ‡è¯†ç¬¦
      "cmds": ["æ’åº§ä½", ...],  // è§¦å‘å…³é”®è¯
      "explain": "..."          // åŠŸèƒ½è¯´æ˜
    }
  ],
  "development": {
    "main": "http://localhost:5173/index.html"  // å¼€å‘ç¯å¢ƒå…¥å£
  }
}
```

## ğŸ› è°ƒè¯•æŠ€å·§

### æ‰“å¼€å¼€å‘è€…å·¥å…·

- åœ¨æ’ä»¶ç•Œé¢æŒ‰ `F12`
- æˆ–å³é”®é€‰æ‹©ã€Œæ£€æŸ¥å…ƒç´ ã€

### æŸ¥çœ‹ Preload è„šæœ¬æ—¥å¿—

- åœ¨ uTools ä¸»ç•Œé¢æŒ‰ `Ctrl + Shift + I`
- Preload è„šæœ¬çš„æ—¥å¿—ä¼šæ˜¾ç¤ºåœ¨ä¸»è¿›ç¨‹æ§åˆ¶å°

### çƒ­é‡è½½

- ä¿®æ”¹ `src/` ä¸‹çš„æ–‡ä»¶ä¼šè‡ªåŠ¨çƒ­é‡è½½
- ä¿®æ”¹ `public/plugin.json` éœ€è¦åœ¨å¼€å‘è€…å·¥å…·ä¸­é‡æ–°åŠ è½½
- ä¿®æ”¹ `public/preload/services.js` éœ€è¦é‡æ–°åŠ è½½æ’ä»¶

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“š ç›¸å…³èµ„æº

- [uTools å®˜æ–¹æ–‡æ¡£](https://www.u-tools.cn/docs/)
- [Vue 3 æ–‡æ¡£](https://cn.vuejs.org/)
- [Tailwind CSS v4 æ–‡æ¡£](https://tailwindcss.com/)
- [Element Plus æ–‡æ¡£](https://element-plus.org/)
